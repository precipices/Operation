package com.operation.client;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Date;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JTextField;
import javax.swing.border.LineBorder;

import com.operation.common.Operation;
import com.operation.myComponent.BackFrame;
import com.operation.myComponent.BackPane;

//点击按钮后的页面跳转未写
public class ExistOperation extends BackPane{
	private ExistOperationListener listener;
	
	private JTextField patientName;
	private JTextField operationName;
	private JTextField beginDate;
	private JTextField operationId;
	
	Operation operation=null;
	public ExistOperation(Operation operation) {
		this.operation=operation;
		listener = new ExistOperationListener();

		this.setLayout(null);
		this.setPreferredSize(new Dimension(550, 70));
		this.setBorder(new LineBorder(new Color(0, 0, 0), 1, true));
		
		JButton editButton = new JButton("编辑");
		editButton.setBounds(437, 10, 78, 23);
		editButton.setActionCommand("editButton");
		editButton.addActionListener(listener);

		JButton deleteButton = new JButton("删除");
		deleteButton.setBounds(437, 37, 78, 23);
		deleteButton.setActionCommand("deleteButton");
		deleteButton.addActionListener(listener);
		

		JLabel label = new JLabel("手术：");
//		label.setFont(new Font("宋体", Font.PLAIN, 14));
		label.setBounds(10, 10, 57, 23);
		
		operationId = new JTextField(8);//放手术编号用以标识
		operationId.setBounds(48, 11, 78, 21);
		operationId.setEnabled(false);
		operationId.setText(operation.getId());

		
		JLabel label_type = new JLabel("手术名称：");
		label_type.setBounds(148, 15, 78, 15);
		
		operationName = new JTextField(15);
		operationName.setBounds(211, 12, 193, 21);
		operationName.setText(operation.getName());
		
		JLabel label_pname = new JLabel("病人：");
		label_pname.setBounds(10, 41, 54, 15);
		
		patientName = new JTextField(8);
		patientName.setBounds(48, 38, 78, 21);
		patientName.setText(operation.getPatientId()+"(待改)");
		
		JLabel label_date = new JLabel("手术日期：");
		label_date.setBounds(148, 42, 66, 15);
		
		beginDate = new JTextField();
		beginDate.setColumns(15);
		beginDate.setBounds(211, 38, 193, 21);
		beginDate.setText(operation.getBeginTime());

		
		this.add(label);
		this.add(operationId);
		this.add(label_type);
		this.add(operationName);
		this.add(editButton);
		this.add(label_pname);
		this.add(patientName);
		this.add(label_date);
		this.add(beginDate);
		this.add(deleteButton);
//		FlowLayout f=new FlowLayout();
//		f.setHgap(20);
//		this.setLayout(f);
	}
	
	class ExistOperationListener implements ActionListener {//定义监听器类
		@Override
		public void actionPerformed(ActionEvent a) {
			if(a.getActionCommand().equals("editButton")) {
				System.out.println("点击了编辑按扭");
				
			}else if(a.getActionCommand().equals("deleteButton")) {
				System.out.println("点击了删除按扭");
				
			}
		}
	}
	
	public static void main(String[] args) {
		JFrame f =new BackFrame("test","./imgs/bg2.jpg");
//		JScrollPane jsp = new BackScrollPane(new LeftPane(null));
//		jsp.getVerticalScrollBar().setUnitIncrement(20);
//		jsp.setWheelScrollingEnabled(true);
		f.setLayout(new FlowLayout());
		f.add(new ExistOperation(new Operation("id", "name", Date.valueOf("1980-1-1"), "roomId", "patientId", "doctorId", "nurseId", "anesthetistId", "doctorRecord", "nurseRecord", "anesthetistRecord")));
		// 设置大小和显示类型
		f.setBounds(200, 100, 800, 600);
		f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		f.setVisible(true);
	}
}
