package temp;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Vector;

import com.operation.common.Message;

public class Test {

	private static List<Message> messages = Collections.synchronizedList(new ArrayList<Message>());
	public synchronized static boolean addMessage(Message message) {
		messages.add(message);
		return true;
	}

	public static Vector<Message> getMessages(String id) {
		Vector<Message> ms = new Vector<Message>();
		Message m=null;
		for(int i=0;i<messages.size();i++) {
			m=messages.get(i);
			if (m.getToId().equals(id)) {
				ms.add(m);
			}
		}
		return ms;
	}

	public static boolean removeMessage(Message message) {
		boolean flag=false;
		Message m=null;
		for(int i=0;i<messages.size();i++) {
			m=messages.get(i);
			if (m.equals(message)) {
				messages.remove(m);
				flag=true;
			}
		}
		return flag;
	}
	public static void main(String[] args) {
	}
}
