package com.operation.select;

import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.JTextField;
import javax.swing.table.DefaultTableModel;

import com.operation.myComponent.BackPane;

public class SelectPatient extends BackPane {
	private SelectPatientListener listener;
	private BackPane panel_cpatient;
	private JButton button_search;
	private JTextField textField_name;
	private JButton button_save;
	
	
	public SelectPatient() {
		listener = new SelectPatientListener();
		System.out.println("进入病人选择界面");
		initialize();
	}
	
	class SelectPatientListener implements ActionListener {//定义监听器类
		@Override
		public void actionPerformed(ActionEvent a) {
			if(a.getActionCommand().equals("button_save")) {//监听器监听到button_select_nurse按扭按下会执行下面的代码
				System.out.println("点击了病人选择保存按扭");
				//录入并保存信息
				JOptionPane.showMessageDialog(null, "保存成功");
				panel_cpatient.setVisible(false);
				//接受选择信息，回传，而后执行恢复之前界面指令
			}else if(a.getActionCommand().equals("button_search")) {
				System.out.println("点击了搜索按扭");
			}
		}
	}
	
	private void initialize() {
		this.setLayout(null);	
		
		panel_cpatient = new BackPane();
		panel_cpatient.setBounds(10, 10, 580, 520);
		this.add(panel_cpatient);
		panel_cpatient.setLayout(null);
		panel_cpatient.setVisible(true);
		
		JLabel label_title = new JLabel("病人选择");
		label_title.setFont(new Font("宋体", Font.PLAIN, 16));
		label_title.setBounds(104, 10, 109, 15);
		panel_cpatient.add(label_title);
		
		JLabel label = new JLabel("姓名：");
		label.setFont(new Font("宋体", Font.PLAIN, 15));
		label.setBounds(60, 38, 61, 15);
		panel_cpatient.add(label);
		
		textField_name = new JTextField();
		textField_name.setColumns(10);
		textField_name.setBounds(104, 35, 109, 21);
		panel_cpatient.add(textField_name);
		
		button_search = new JButton("搜索");
		button_search.setBounds(223, 34, 70, 23);
		panel_cpatient.add(button_search);
		button_search.setActionCommand("button_search");
		button_search.addActionListener(listener);
		
		button_save = new JButton("保存");
		button_save.setBounds(142, 330, 93, 23);
		panel_cpatient.add(button_save);
		button_save.setActionCommand("button_save");
		button_save.addActionListener(listener);
		
		JTable table = new JTable(new DefaultTableModel(
			new Object[][] {
				{new Integer(1), new Integer(2), new Integer(3), new Integer(4)},
				{new Integer(4), new Integer(3), new Integer(2), new Integer(1)},
			},
			new String[] {
					"姓名", "性别", "年龄", "信息"
			}
		));
		//table.setBounds(10, 10, 530, 342);
		JScrollPane scrollPane_info_patient = new JScrollPane(table);
		scrollPane_info_patient.setBounds(60, 68, 460, 198);
		panel_cpatient.add(scrollPane_info_patient);
		//信息显示
		
		
	}
}